# Тестовое задание
1) Для обмена с контрагентами электронными документами необходимо использовать возможности операторов ЭДО. Для этого необходимо использовать модуль интеграции с операторами ЭДО. Для этого нужно приобрести лицензии на модуль интеграции и коннектор, настроить СЭД для обмена необходимыми документами.
2) Необходимо смотреть проект MyTestTask.CheckingText.
3) Необходимо смотреть проект MyTestTask.Docsvision.
4)
   ```
   SELECT
     DocumentNumber, 
     STRING_AGG(CONVERT(NVARCHAR(max), Performer), ', ') AS Performers
   FROM TasksOfPerformers
   WHERE ApprovalState = 'Ожидается решение'
   GROUP BY DocumentNumber
   ```
5) Первым делом необходимо посмотреть на описание ошибки. Возможно нет доступа к серверной машине, для проверки можно отправить запрос на нее. Если ошибка связана с лицензией, в консоли Docsvision смотрим лицензию.  Далее смотрим чтобы работал пул в IIS, так же нужно посмотреть, что работают все необходимые службы для работы Docsvision. Далее смотрим логи навигатора и сервера Docsvision. Возможно, разные версии серверных и клиентских компонент Docsvision. Далее смотрим нет ли проблем с самой базой данных. Если не нашли проблем пишем в тех. поддержку Docsvision.
6) Причины ошибок могут быть следующие: ошибка в индексах (нет индексов на таблице, индексируемы не верные поля и т.д.), неправильные планы запросов (MS SQL Server выбирает не оптимальный план выполнения), проблемы с блокировками, дедлоки, проблемы с железом. Так же одна из причин, может быть, не верно установлена база данных или сервера БД. Сначала определяем масштаб проблем, если не работает большое количество запросов или в общем не запускается программа Docsvision из-за проблем с базой данных, скорее всего проблемы с блокировками или с железом на сервере. Если медленно работает не большое количество запросов, тогда их анализируем при помощи плана выполнения. Также для анализа запросов необходимо воспользоваться программой SQL Profiler. Далее анализируем полученные данные и ищем, что нет выше указанных ошибок. Если не нашли проблем пишем в тех. поддержку Docsvision.
7) Пример реализации в web-клиенте:
* Создать новый вид «Комплект документов» от наследовавшись от вида «Документ».
* Настроить состояния для созданного вида.
* Настроить права для созданного вида, настроить матрицу документа.
* Добавить правила нумерации для документа.
* В конструкторе web-разметок добавить разметку для редактирования, настроить условия выбора для разметки.
* В разметку добавить необходимые контролы для заполнения, обязательно добавить контрол Список файлов (перетаскивание файлов с рабочего стола для контрола работает из коробки), добавить функцию для события перед сохранением карточки (необходима для проверки полей).
* Пишем скрипт на TypeScript для проверки полей, если необходима более сложная проверка или часть данных мы не можем получить на фронте добавляем еще серверное расширение для web-клиента, который реализуется на языке c#.
* Все собираем и закидываем по нужным папкам. Файлы для веба кидаем в папку Modules, серверное расширение закидываем в папку Extensions.
* Проверяем получившийся результат.
